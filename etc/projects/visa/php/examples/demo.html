<!--
  $Id: demo.html,v 1.1 2012/11/15 13:26:49 gaudenz Exp $
  Copyright (c) 2006, Gaudenz Alder
  
  Static HTML page for the VISA Network Editor - Demo.
-->
<html>
<head>
	<title>VISA Network Editor - Demo</title>
	<script type="text/javascript">
		var diagramCount = 22;
	
		function show(src)
		{
			var img = document.getElementById('image');
			img.src = src;
			
			var a = document.getElementById('link');
			a.href = src;
		}

		function createButton(title, onclick)
		{
			var button = document.createElement('button');
			button.appendChild(document.createTextNode(title));
			button.onclick = onclick;
			
			return button;
		}

		var showAll = false;
		
		function main()
		{
			var url = window.location.href;
			var qm = url.indexOf('?');

			if (qm > 0)
			{
				var params = url.substring(qm + 1).split('&');
				
				for (var i = 0; i < params.length; i++)
				{
					if (params[i].substring(0, 8) == 'showAll=')
					{
						showAll = (params[i].substring(8) == '1');
					}
				}
			}

			if (!showAll)
			{
				var select = document.createElement('select');
	
				for (var i = 1; i <= diagramCount; i++)
				{
					var option = document.createElement('option');
					
					option.setAttribute('value', i);
					option.appendChild(document.createTextNode('Example ' + i));

					select.appendChild(option);
					document.body.appendChild(select);
				}
				
				select.onchange = function()
				{
					show('demo.php?format=png&example=' + select.value);
				};
	
				document.body.appendChild(createButton('View', function()
				{
					window.open('demo.php?example=' + select.value, '_blank');
				}));
				
				document.body.appendChild(createButton('Save', function()
				{
					window.open('demo.php?format=xml&file=example' + select.value + '.xml&example=' + select.value);
				}));
			}
			else
			{
				for (var i = diagramCount; i >= 1; i--)
				{
					document.body.appendChild(document.createElement('br'));
					var img = document.createElement('img');
					img.src = 'demo.php?format=png&example='+i;
					img.setAttribute('title', 'Example ' + i);
					document.body.appendChild(img);
					document.body.appendChild(document.createElement('br'));
				}

				var link = document.getElementById('link');
				link.style.display = 'none';
			}
		}
	</script>
</head>
<body style="background:#F9F7ED;" onload="main();">
	<table>
	<tr>
	<td style="background:#EEEEEE;">
	<font size="5"><strong>VISA Network Editor - Demo</strong></font>
	</td>
	</tr>
	<tr>
	<td>
	<a href="demo.php?format=png&example=1" id="link" target="_blank" border="0">
		<img id="image" src="demo.php?format=png&example=1" border="1" style="display:block;border-color:#CDCDCD;">
	</a>
	</td>
	</tr>
	</table>
	Click on the links below to view the examples. Click on the image above to show the image in a new window.
	<a href="demo.html?showAll=1">Show All</a> <a href="demo.html">Hide All</a>
	</a>
</body>
</html>
