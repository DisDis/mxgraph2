<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<script>
		var urlParams = (function(url)
		{
			var result = new Object();
			var params = window.location.search.slice(1).split('&');
			
			for (var i = 0; i < params.length; i++)
			{
				idx = params[i].indexOf('=');
				
				if (idx > 0)
				{
					result[params[i].substring(0, idx)] = params[i].substring(idx + 1);
				}
			}
			
			return result;
		})(window.location.href);
	
		// Public global variables
		var MAX_REQUEST_SIZE = 10485760;
		var MAX_AREA = 10000 * 10000;

		// Paths and files
		var STENCIL_PATH = 'stencils';
		var SHAPES_PATH = 'shapes';
		var IMAGE_PATH = 'images';
		// Path for images inside the diagram
		var GRAPH_IMAGE_PATH = 'img';
		var STYLE_PATH = 'styles';
		var CSS_PATH = 'styles';
		
		// Directory for i18 files and basename for main i18n file
		var RESOURCES_PATH = 'resources';
		var RESOURCE_BASE = RESOURCES_PATH + '/dia';
	
		// Specifies connection mode for touch devices (at least one should be true)
		var tapAndHoldStartsConnection = true;
		var showConnectorImg = true;
		var isSvgBrowser = navigator.userAgent.indexOf('MSIE') < 0 || document.documentMode >= 9;
		var isLocalStorage = typeof(Storage) != 'undefined';

		/**
		 * Synchronously adds scripts to the page.
		 */
		function mxscript(src)
		{
			document.write('<script src="'+src+'"></scr' + 'ipt>');
		};
		
		// Sets the base path, the UI language via URL param and configures the
		// supported languages to avoid 404s. The loading of all core language
		// resources is disabled as all required resources are in grapheditor.
		// properties. Note that in this example the loading of two resource
		// files (the special bundle and the default bundle) is disabled to
		// save a GET request. This requires that all resources be present in
		// the special bundle.
		var mxLoadResources = false;
		var mxLanguage = 'en'
		
		var geBasePath = 'js';
		var mxBasePath = 'mxgraph';
		
		mxscript('js/app.min.js');
	</script>
</head>
<body style="margin:0px;">
	<script>
		function render(xml, w, h)
		{
			var graph = new Graph(document.getElementById('graph'));
			graph.resizeContainer = true;
			graph.setEnabled(false);
			
			var xmlDoc = mxUtils.parseXml(xml);
			var codec = new mxCodec(xmlDoc);
			codec.decode(xmlDoc.documentElement, graph.getModel());
			
			var bounds = graph.getGraphBounds();
			var s = Math.floor(Math.min(w / bounds.width, h / bounds.height) * 100) / 100;
			graph.view.scaleAndTranslate(s, (w - bounds.width * s) / 2 / s - bounds.x,
					(h - bounds.height * s) / 2 / s - bounds.y);
		};
	</script>
	<div id="graph"></div>
</body>
</html>
